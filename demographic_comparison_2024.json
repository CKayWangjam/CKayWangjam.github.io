{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 500,
  "height": 360,
  "title": {
    "text": "Demographic Structure Comparison (2024)",
    "subtitle": "Age dependency ratios - India's youth bulge vs aging societies",
    "fontSize": 14,
    "fontWeight": "bold",
    "subtitleFontSize": 11,
    "color": "rgba(18,18,18,0.90)",
    "subtitleColor": "rgba(18,18,18,0.60)"
  },
  "data": {
    "values": [
      {"Country": "India", "Category": "Youth (0-14)", "Dependency_Ratio": 40.2, "Type": "Young"},
      {"Country": "India", "Category": "Elderly (65+)", "Dependency_Ratio": 10.5, "Type": "Old"},
      
      {"Country": "Japan", "Category": "Youth (0-14)", "Dependency_Ratio": 19.8, "Type": "Young"},
      {"Country": "Japan", "Category": "Elderly (65+)", "Dependency_Ratio": 51.2, "Type": "Old"},
      
      {"Country": "Germany", "Category": "Youth (0-14)", "Dependency_Ratio": 21.8, "Type": "Young"},
      {"Country": "Germany", "Category": "Elderly (65+)", "Dependency_Ratio": 35.2, "Type": "Old"}
    ]
  },
  "params": [
    {
      "name": "chart2CountryHighlight",
      "select": {"type": "point", "fields": ["Country"], "on": "mouseover", "clear": "mouseout"}
    }
  ],
  "mark": {
    "type": "bar",
    "cornerRadius": 6,
    "opacity": 0.90
  },
  "encoding": {
    "x": {
      "field": "Country",
      "type": "nominal",
      "axis": {
        "title": null,
        "labelFontSize": 12,
        "labelFontWeight": "bold",
        "labelColor": "rgba(18,18,18,0.80)",
        "domainColor": "rgba(0,0,0,0.20)"
      }
    },
    "y": {
      "field": "Dependency_Ratio",
      "type": "quantitative",
      "axis": {
        "title": "Dependency Ratio (per 100 working-age people)",
        "titleFontSize": 13,
        "titleFontWeight": "bold",
        "titleColor": "rgba(18,18,18,0.85)",
        "labelFontSize": 11,
        "labelColor": "rgba(18,18,18,0.70)",
        "grid": true,
        "gridColor": "rgba(0,0,0,0.06)",
        "gridOpacity": 1,
        "domainColor": "rgba(0,0,0,0.20)"
      }
    },
    "color": {
      "field": "Country",
      "type": "nominal",
      "scale": {
        "domain": ["India", "Japan", "Germany"],
        "range": ["#1e40af", "#a78bfa", "#fca5a5"]
      },
      "legend": null
    },
    "opacity": {
      "condition": {"param": "chart2CountryHighlight", "value": 1},
      "value": 0.75
    },
    "xOffset": {"field": "Type"},
    "tooltip": [
      {"field": "Country", "type": "nominal", "title": "Country"},
      {"field": "Category", "type": "nominal", "title": "Age Group"},
      {"field": "Dependency_Ratio", "type": "quantitative", "title": "Dependency Ratio", "format": ".1f"},
      {"field": "Type", "type": "nominal", "title": "Type"}
    ]
  }
}
