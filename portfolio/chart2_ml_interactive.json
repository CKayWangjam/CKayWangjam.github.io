{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 700,
  "height": 400,
  "title": {
    "text": "Machine Learning: Predicting Placement Rates",
    "subtitle": "Linear Regression Analysis - Actual vs Predicted (R² = 0.72)",
    "fontSize": 18,
    "fontWeight": "bold"
  },
  "data": {
    "values": [
      {"State": "Gujarat", "Actual": 14.2, "Predicted": 13.8, "Literacy": 79.3, "GDP": 285, "Type": "Test"},
      {"State": "Manipur", "Actual": 30.6, "Predicted": 28.2, "Literacy": 79.8, "GDP": 98, "Type": "Test"},
      {"State": "Maharashtra", "Actual": 11.9, "Predicted": 12.5, "Literacy": 82.9, "GDP": 312, "Type": "Training"},
      {"State": "Tamil Nadu", "Actual": 10.8, "Predicted": 11.2, "Literacy": 80.3, "GDP": 290, "Type": "Training"},
      {"State": "Uttar Pradesh", "Actual": 18.9, "Predicted": 19.5, "Literacy": 69.7, "GDP": 89, "Type": "Training"}
    ]
  },
  "params": [
    {
      "name": "ml_state_select",
      "select": {"type": "point", "fields": ["State"], "on": "mouseover", "clear": "mouseout"}
    }
  ],
  "mark": {
    "type": "point",
    "size": 250,
    "filled": true,
    "stroke": "black",
    "strokeWidth": 2
  },
  "encoding": {
    "x": {
      "field": "Actual",
      "type": "quantitative",
      "title": "Actual Placement Rate (%)",
      "scale": {"domain": [8, 32]},
      "axis": {
        "labelFontSize": 12,
        "titleFontSize": 13,
        "titleFontWeight": "bold",
        "grid": true
      }
    },
    "y": {
      "field": "Predicted",
      "type": "quantitative",
      "title": "Predicted Placement Rate (%)",
      "scale": {"domain": [8, 32]},
      "axis": {
        "labelFontSize": 12,
        "titleFontSize": 13,
        "titleFontWeight": "bold",
        "grid": true
      }
    },
    "color": {
      "field": "State",
      "type": "nominal",
      "scale": {
        "domain": ["Gujarat", "Manipur", "Maharashtra", "Tamil Nadu", "Uttar Pradesh"],
        "range": ["#E74C3C", "#3498DB", "#2ECC71", "#F39C12", "#9B59B6"]
      },
      "legend": {
        "title": "State",
        "titleFontSize": 12,
        "labelFontSize": 11,
        "orient": "right"
      }
    },
    "shape": {
      "field": "Type",
      "type": "nominal",
      "scale": {
        "domain": ["Training", "Test"],
        "range": ["circle", "square"]
      },
      "legend": {
        "title": "Dataset",
        "titleFontSize": 12,
        "labelFontSize": 11,
        "orient": "right"
      }
    },
    "opacity": {
      "condition": {"param": "ml_state_select", "value": 1},
      "value": 0.6
    },
    "tooltip": [
      {"field": "State", "type": "nominal", "title": "State"},
      {"field": "Actual", "type": "quantitative", "title": "Actual Rate (%)", "format": ".1f"},
      {"field": "Predicted", "type": "quantitative", "title": "Predicted Rate (%)", "format": ".1f"},
      {"field": "Literacy", "type": "quantitative", "title": "Literacy Rate (%)", "format": ".1f"},
      {"field": "GDP", "type": "quantitative", "title": "GDP per capita (₹000)", "format": ","},
      {"field": "Type", "type": "nominal", "title": "Dataset"}
    ]
  }
}